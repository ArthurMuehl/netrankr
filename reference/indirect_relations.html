<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Derive indirect relations for a given network.
Observed relations, like presents or absence of a relation, are commonly not the center
of analysis, but are transformed in a new set of indirect relation like shortest path
distances among nodes. These transformations are usually an implicit step when centrality
indices are used. Making this step explicit gives more possibilities, for example
calculating partial centrality rankings with positional_dominance."><title>Indirect relations in a network — indirect_relations • netrankr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.7/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.7/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Indirect relations in a network — indirect_relations"><meta property="og:description" content="Derive indirect relations for a given network.
Observed relations, like presents or absence of a relation, are commonly not the center
of analysis, but are transformed in a new set of indirect relation like shortest path
distances among nodes. These transformations are usually an implicit step when centrality
indices are used. Making this step explicit gives more possibilities, for example
calculating partial centrality rankings with positional_dominance."><meta property="og:image" content="https://schochastics.github.io/netrankr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">netrankr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <a class="dropdown-item" href="../articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a>
    <a class="dropdown-item" href="../articles/threshold_graph.html">Uniquely Ranked Graphs</a>
    <a class="dropdown-item" href="../articles/positional_dominance.html">Positional Dominance</a>
    <a class="dropdown-item" href="../articles/indirect_relations.html">Indirect Relations in Networks</a>
    <a class="dropdown-item" href="../articles/centrality_indices.html">Centrality Indices</a>
    <a class="dropdown-item" href="../articles/partial_centrality.html">Partial Centrality</a>
    <a class="dropdown-item" href="../articles/probabilistic_cent.html">Probabilistic Centrality</a>
    <div class="dropdown-divider"></div>
    <a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-introduction/">Blog Post I</a>
    <a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-neighborhood-inclusion/">Blog Post II</a>
    <a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-new-ways-of-measuring-centrality/">Blog Post III</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/use_case.html">Use Case</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/benchmarks.html">Benchmarks</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://schochastics.net/sna/periodic.html">Periodic Table</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/schochastics/netrankr">
    <span class="fa fa-github fa-lg"></span>
     
    Github
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Indirect relations in a network</h1>
      <small class="dont-index">Source: <a href="https://github.com/schochastics/netrankr/blob/HEAD/R/indirect.relations.R" class="external-link"><code>R/indirect.relations.R</code></a></small>
      <div class="d-none name"><code>indirect_relations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Derive indirect relations for a given network.
Observed relations, like presents or absence of a relation, are commonly not the center
of analysis, but are transformed in a new set of indirect relation like shortest path
distances among nodes. These transformations are usually an implicit step when centrality
indices are used. Making this step explicit gives more possibilities, for example
calculating partial centrality rankings with <a href="positional_dominance.html">positional_dominance</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">indirect_relations</span><span class="op">(</span></span>
<span>  <span class="va">g</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"dist_sp"</span>,</span>
<span>  lfparam <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dwparam <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  netflowmode <span class="op">=</span> <span class="st">""</span>,</span>
<span>  rspxparam <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  FUN <span class="op">=</span> <span class="va">identity</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>g</dt>
<dd><p>igraph object. The network for which relations should be derived.</p></dd>


<dt>type</dt>
<dd><p>String giving the relation to be calculated. See Details for options.</p></dd>


<dt>lfparam</dt>
<dd><p>Numeric parameter. Only used if type = "dist_lf".</p></dd>


<dt>dwparam</dt>
<dd><p>Numeric parameter. Only used if type = "dist_walk".</p></dd>


<dt>netflowmode</dt>
<dd><p>String, one of raw, frac, or norm. Only used if type = "depend_netflow".</p></dd>


<dt>rspxparam</dt>
<dd><p>Numeric parameter. Only used if type = "depend_rsps" or type = "depend_rspn".</p></dd>


<dt>FUN</dt>
<dd><p>A function that allows the transformation of relations. See Details.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed to FUN.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A matrix containing indirect relations in a network.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>type</code> parameter has the following options.</p>
<p><em>'adjacency'</em> returns the adjacency matrix of the network.</p>
<p><em>'weights'</em> returns the weighted adjacency matrix of the network if an edge
attribute 'weight' is present.</p>
<p><em>'dist_sp'</em> returns shortest path distances between all pairs of nodes.</p>
<p><em>'depend_sp'</em> returns dyadic dependencies
$$\delta(u,s) = \sum_{t \in V} \frac{\sigma(s,t|u)}{\sigma(s,t)}$$
where \(\sigma(s,t|u)\) is the number of shortest paths from s to t that include u and
\(\sigma(s,t)\) is the total number of shortest (s,t)-paths. This relation is used
for betweenness-like centrality indices.</p>
<p><em>'walks'</em> returns walk counts between pairs of nodes, usually they are
weighted decreasingly in their lengths or other properties which can be done by adding
a function in <code>FUN</code>.  See <a href="transform_relations.html">transform_relations</a> for options.</p>
<p><em>'dist_resist'</em> returns the resistance distance between all pairs of nodes.</p>
<p><em>'dist_lf'</em> returns a logarithmic forest distance \(d_\alpha(s,t)\). The logarithmic forest
distances form a one-parametric family of distances, converging to shortest path distances as \(\alpha -&gt; 0\)
and to the resistance distance as \(\alpha -&gt; \infty\). See (Chebotarev, 2011) for more details.
The parameter <code>lfparam</code> can be used to tune \(\alpha\).</p>
<p><em>'dist_walk'</em> returns the walk distance \(d_\alpha^W(s,t)\) between nodes. The walk distances form a one-parametric
family of distances, converging to shortest path distances as \(\alpha -&gt; 0\) and to longest
walk distances for \(\alpha -&gt; \infty\). Walk distances contain the logarithmic forest
distances as a special case. See (Chebotarev, 2012) for more details.</p>
<p><em>'dist_rwalk'</em> returns the expected length of a random walk between two nodes. For more
details see (Noh and Rieger, 2004)</p>
<p><em>'depend_netflow'</em> returns dependencies based on network flow (See Freeman et al.,1991).
If <code>netflowmode="raw"</code>, the function returns
$$\delta(u,s) = \sum_{t \in V} f(s,t,G)-f(s,t,G-v)$$
where f(s,t,G) is the maximum flow from s to t in G and f(s,t,G-v) in G without the node v.
For <code>netflowmode="frac"</code> it returns dependencies in the form, similar to shortest path dependencies:
$$\delta(u,s) = \sum_{t \in V} \frac{f(s,t,G)-f(s,t,G-v)}{f(s,t,G)}$$</p>
<p><em>'depend_curflow'</em> returns pairwise dependencies based on current flow. The relation is
based on the same idea as 'depend_sp' and 'depend_netflow'. However, instead of considering
shortest paths or network flow, the current flow (or equivalent: random walks) between nodes
are of interest. See (Newman, 2005) for details.</p>
<p><em>'depend_exp'</em> returns pairwise dependencies based on 'communicability':
$$\delta(u,s)=\sum_{t \in V} \frac{exp(A)_{st}-exp(A+E(u))_{st}}{exp(A)_{st}},$$
where E(u) has nonzeros only in row and column u, and
in this row and column has -1 if A has +1. See (Estrada et al., 2009) for additional details.</p>
<p><em>'depend_rsps'</em>. Simple randomized shortest path dependencies.
The simple RSP dependency of a node u with respect to absorbing paths from s to t,
is defined as the expected number of visits through u over all s-t-walks. The
parameter <code>rspxparam</code> is the "inverse temperature parameter".
If it converges to infinity, only shortest paths are considered and the expected
number of visits to a node on a shortest path approaches the probability of
following that particular path. When the parameter converges to zero, then the
dependencies converge to the expected number of visits to a node over all absorbing
walks with respect to the unbiased random walk probabilities. This means for undirected networks,
that the relations converge to adjacency. See (Kivimäki et al., 2016) for details.</p>
<p><em>'depend_rspn'</em> Net randomized shortest path dependencies.
The parameter <code>rspxparam</code> is the "inverse temperature parameter". The asymptotic
for the infinity case are the same as for 'depend_rsps'. If the parameter approaches zero, then
it converges to 'depend_curflow'. The net randomized shortest path dependencies
are closely related to the random walk interpretation of current flows.
See (Kivimäki et al., 2016) for technical details.</p>
<p>The function <code>FUN</code> is used to transform the indirect
relation. See <a href="transform_relations.html">transform_relations</a> for predefined functions and additional help.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Chebotarev, P., 2012. The walk distances in graphs. <em>Discrete Applied Mathematics</em>, 160(10), pp.1484-1500.</p>
<p>Chebotarev, P., 2011. A class of graph-geodetic distances generalizing the shortest-path and
the resistance distances. <em>Discrete Applied Mathematics</em> 159,295-302.</p>
<p>Noh, J.D. and Rieger, H., 2004. Random walks on complex networks. <em>Physical Review Letters</em>, 92(11), p.118701.</p>
<p>Freeman, L.C., Borgatti, S.P., and White, D.R., 1991.
Centrality in Valued Graphs: A Measure of Betweenness Based on Network Flow. <em>Social Networks</em> 13(2), 141-154.</p>
<p>Newman, M.E., 2005. A measure of betweenness centrality based on random walks. <em>Social Networks</em>, 27(1), pp.39-54.</p>
<p>Estrada, E., Higham, D.J., and Hatano, N., 2009.
Communicability betweenness in complex networks. <em>Physica A</em> 388,764-774.</p>
<p>Kivimäki, I., Lebichot, B., Saramäki, J., and Saerens, M., 2016.
Two betweenness centrality measures based on Randomized Shortest Paths
<em>Scientific Reports</em> 6: 19668</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="aggregate_positions.html">aggregate_positions</a> to build centrality indices, <a href="positional_dominance.html">positional_dominance</a> to derive dominance relations</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>David Schoch</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dbces11"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># shortest path distances</span></span></span>
<span class="r-in"><span><span class="va">D</span> <span class="op">&lt;-</span> <span class="fu">indirect_relations</span><span class="op">(</span><span class="va">dbces11</span>, type <span class="op">=</span> <span class="st">"dist_sp"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This graph was created by an old(er) igraph version.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Call upgrade_graph() on it to use with the current igraph version</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   For now we convert it on the fly...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># inverted shortest path distances</span></span></span>
<span class="r-in"><span><span class="va">D</span> <span class="op">&lt;-</span> <span class="fu">indirect_relations</span><span class="op">(</span><span class="va">dbces11</span>, type <span class="op">=</span> <span class="st">"dist_sp"</span>, FUN <span class="op">=</span> <span class="va">dist_inv</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># shortes path dependencies (used for betweenness)</span></span></span>
<span class="r-in"><span><span class="va">D</span> <span class="op">&lt;-</span> <span class="fu">indirect_relations</span><span class="op">(</span><span class="va">dbces11</span>, type <span class="op">=</span> <span class="st">"depend_sp"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># walks attenuated exponentially by their length</span></span></span>
<span class="r-in"><span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu">indirect_relations</span><span class="op">(</span><span class="va">dbces11</span>, type <span class="op">=</span> <span class="st">"walks"</span>, FUN <span class="op">=</span> <span class="va">walks_exp</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Schoch.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

