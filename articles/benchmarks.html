<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Benchmark Results • netrankr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Benchmark Results">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netrankr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a></li>
    <li><a class="dropdown-item" href="../articles/threshold_graph.html">Uniquely Ranked Graphs</a></li>
    <li><a class="dropdown-item" href="../articles/positional_dominance.html">Positional Dominance</a></li>
    <li><a class="dropdown-item" href="../articles/indirect_relations.html">Indirect Relations in Networks</a></li>
    <li><a class="dropdown-item" href="../articles/centrality_indices.html">Centrality Indices</a></li>
    <li><a class="dropdown-item" href="../articles/partial_centrality.html">Partial Centrality</a></li>
    <li><a class="dropdown-item" href="../articles/probabilistic_cent.html">Probabilistic Centrality</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-introduction/">Blog Post I</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-neighborhood-inclusion/">Blog Post II</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-new-ways-of-measuring-centrality/">Blog Post III</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/use_case.html">Use Case</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/benchmarks.html">Benchmarks</a></li>
<li class="nav-item"><a class="external-link nav-link" href="http://schochastics.net/sna/periodic.html">Periodic Table</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/schochastics/netrankr"><span class="fa fa-github fa-lg"></span> Github</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Benchmark Results</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/schochastics/netrankr/blob/main/vignettes/benchmarks.Rmd" class="external-link"><code>vignettes/benchmarks.Rmd</code></a></small>
      <div class="d-none name"><code>benchmarks.Rmd</code></div>
    </div>

    
    
<p>Some of the methods provided in <code>netrankr</code> are
computationally very expensive. Computing all rankings of a partial
ranking, for instance, is a NP-hard problem such that using the function
<code><a href="../reference/exact_rank_prob.html">exact_rank_prob()</a></code> quickly becomes infeasible. This article
provides some guidelines for when the use of this function is possible.
Additionally, the quality of the approximation functions
<code>approx_*</code> and sampling rankings with
<code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code> for <strong>expected ranks</strong> and
<strong>relative rank probabilities</strong> are assessed.</p>
<p>(<em>The data and code to replicate the benchmark results can be
found in the <code>data-raw</code> folder on <a href="https://github.com/schochastics/netrankr/tree/master/data-raw" class="external-link">github</a></em>)</p>
<hr>
<div class="section level2">
<h2 id="runtimes-exact-probabilities">Runtimes exact probabilities<a class="anchor" aria-label="anchor" href="#runtimes-exact-probabilities"></a>
</h2>
<p>The below figure shows the runtime of <code><a href="../reference/exact_rank_prob.html">exact_rank_prob()</a></code>
for a sample of 3,000 partial rankings with 10 to 20 nodes and varying
degree of completeness.</p>
<p><img src="runtimes_exact.png" width="100%"></p>
<p>Not surprisingly, the runtime increases quickly with the number of
nodes and the number of incomparable pairs in the partial ranking. As a
very crude rule of thumb: As long as a partial ranking has less than 30
elements, it is always save to run <code><a href="../reference/exact_rank_prob.html">exact_rank_prob()</a></code>.
Beyond 30 elements, it is advisable to only use the function if a high
fraction of pairs of elements is already comparable. The more elements,
the higher this fraction should be.</p>
<hr>
</div>
<div class="section level2">
<h2 id="approximating-expected-ranks">Approximating expected ranks<a class="anchor" aria-label="anchor" href="#approximating-expected-ranks"></a>
</h2>
<p><code>netrankr</code> implements five methods to approximate expected
ranks which are given by the functions
<code><a href="../reference/approx_rank_expected.html">approx_rank_expected()</a></code> and <code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code>.
The four methods implemented in the former are only based on structural
features of the partial ranking, while the latter is based on sampling
rankings (almost) uniformly at random from the set of all rankings.
Consult the help files for a more detailed description and references.
The below figure shows the (averaged) mean absolute error compared to
the exact expected ranks of the five methods on the set of 3000 partial
rankings from above. The number of drawn samples for the mcmc function
is set to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>n</mi><mn>5</mn></msup><annotation encoding="application/x-tex">n^5</annotation></semantics></math>,
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
is the number of elements in the partial ranking.</p>
<p><img src="quality_expected_mse.png" width="100%"></p>
<p>The basic <em>local partial order model</em> performs considerably
worse than the other methods on almost all partial rankings. Its
generalized version outperforms the methods based on the relative rank
probabilities (<em>loof1</em> and <em>loof2</em>) if the number of
incomparable pairs is high. The mcmc method generally yields the best
approximations, especially with increasing number of elements. However,
its performance seems to get worse when almost none of the elements are
comparable. This issue is discussed in the section on choosing the
number of samples further down.</p>
<hr>
</div>
<div class="section level2">
<h2 id="approximating-relative-ranks">Approximating relative ranks<a class="anchor" aria-label="anchor" href="#approximating-relative-ranks"></a>
</h2>
<p>Relative ranks can either be approximated with the iterative function
<code><a href="../reference/approx_rank_relative.html">approx_rank_relative()</a></code> or again via sampling rankings
(almost) uniformly at random with <code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code>. The
below figure shows the (averaged) mean absolute error compared to the
exact relative rank probabilities on the set of 13000 partial rankings
from above. The number of drawn samples for the mcmc function is set to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>n</mi><mn>4</mn></msup><annotation encoding="application/x-tex">n^4</annotation></semantics></math>,
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
is the number of elements in the partial ranking. The number of
iterative steps in <code><a href="../reference/approx_rank_relative.html">approx_rank_relative()</a></code> is set to 1 (no
iteration), 5, 10 and 15 respectively.
<img src="quality_relative_mse.png" width="100%"></p>
<p>Clearly, the non-iterative approximation performs worse on all
partial rankings. The more iterations the better the approximation
quality seems to be, yet the gain in quality going from 10 to 15
iterations seems negligible. The mcmc based function again performs
better except in the region of low comparability.</p>
<hr>
</div>
<div class="section level2">
<h2 id="mcmc-sampling-of-rankings">MCMC sampling of rankings<a class="anchor" aria-label="anchor" href="#mcmc-sampling-of-rankings"></a>
</h2>
<p>The results above have shown that approximating expected ranks and
relative rank probabilities on the basis of a random sample generally
give the best results, except in the region of low comparability. This
problem can be mitigated by increasing the number of samples. The below
boxplot shows the mean absolute error for the expected ranks of an empty
partial ranking with 10 elements, when the number of samples is
increased. For each sample size, 100 repetition were done.
<img src="mcmc_samples_exp.png" width="100%"></p>
<p>The same procedure is carried out for the relative ranks below.</p>
<p><img src="mcmc_samples_rel.png" width="100%"></p>
<p>That is, increasing the number of samples (quite naturally) leads to
better approximations, but of course also comes with an increase in
running time, especially for larger partial rankings.</p>
<hr>
</div>
<div class="section level2">
<h2 id="runtimes-of-approximation">Runtimes of approximation<a class="anchor" aria-label="anchor" href="#runtimes-of-approximation"></a>
</h2>
<p>The function <code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code> generally gives the best
approximations. The larger the number of samples, the better. Since the
number of samples should be at least cubic in the number of elements, it
is limited to partial rankings with a couple of hundred elements.</p>
<p>Although the function <code><a href="../reference/approx_rank_expected.html">approx_rank_expected()</a></code> and
<code><a href="../reference/approx_rank_relative.html">approx_rank_relative()</a></code> performed the worst in the above
tests, they are computationally the least expensive with a time
complexity of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝒪</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{O}(n^2)</annotation></semantics></math>.
Thus, they are able to at least give a rough approximation also for
partial rankings beyond 1000 elements.</p>
<hr>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<pre><code><span><span class="co">## R version 4.4.1 (2024-06-14)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.5 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] digest_0.6.37     desc_1.4.3        R6_2.5.1          fastmap_1.2.0    </span></span>
<span><span class="co">##  [5] xfun_0.47         cachem_1.1.0      knitr_1.48        htmltools_0.5.8.1</span></span>
<span><span class="co">##  [9] rmarkdown_2.28    lifecycle_1.0.4   cli_3.6.3         pkgdown_2.1.1    </span></span>
<span><span class="co">## [13] sass_0.4.9        textshaping_0.4.0 jquerylib_0.1.4   systemfonts_1.1.0</span></span>
<span><span class="co">## [17] compiler_4.4.1    highr_0.11        tools_4.4.1       ragg_1.3.3       </span></span>
<span><span class="co">## [21] evaluate_1.0.0    bslib_0.8.0       yaml_2.3.10       jsonlite_1.8.9   </span></span>
<span><span class="co">## [25] rlang_1.1.4       fs_1.6.4</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
