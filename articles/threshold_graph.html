<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Uniquely ranked graphs • netrankr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Uniquely ranked graphs">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netrankr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a></li>
    <li><a class="dropdown-item" href="../articles/threshold_graph.html">Uniquely Ranked Graphs</a></li>
    <li><a class="dropdown-item" href="../articles/positional_dominance.html">Positional Dominance</a></li>
    <li><a class="dropdown-item" href="../articles/indirect_relations.html">Indirect Relations in Networks</a></li>
    <li><a class="dropdown-item" href="../articles/centrality_indices.html">Centrality Indices</a></li>
    <li><a class="dropdown-item" href="../articles/partial_centrality.html">Partial Centrality</a></li>
    <li><a class="dropdown-item" href="../articles/probabilistic_cent.html">Probabilistic Centrality</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-introduction/">Blog Post I</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-neighborhood-inclusion/">Blog Post II</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-new-ways-of-measuring-centrality/">Blog Post III</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/use_case.html">Use Case</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/benchmarks.html">Benchmarks</a></li>
<li class="nav-item"><a class="external-link nav-link" href="http://schochastics.net/sna/periodic.html">Periodic Table</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/schochastics/netrankr"><span class="fa fa-github fa-lg"></span> Github</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Uniquely ranked graphs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/schochastics/netrankr/blob/main/vignettes/threshold_graph.Rmd" class="external-link"><code>vignettes/threshold_graph.Rmd</code></a></small>
      <div class="d-none name"><code>threshold_graph.Rmd</code></div>
    </div>

    
    
<p>This vignette introduces <em>threshold graphs</em>, a class of graphs
with a unique centrality ranking and relevant functions from the
<code>netrankr</code> package to work with this class of graphs.</p>
<hr>
<div class="section level2">
<h2 id="theoretical-background">Theoretical Background<a class="anchor" aria-label="anchor" href="#theoretical-background"></a>
</h2>
<p>A threshold graph is a graph, where all nodes are pairwise comparable
by neighborhood inclusion. Formally,
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∀</mo><mi>u</mi><mo>,</mo><mi>v</mi><mo>∈</mo><mi>V</mi><mo>:</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow><mspace width="0.278em"></mspace><mo>∨</mo><mspace width="0.278em"></mspace><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>u</mi><mo stretchy="true" form="postfix">]</mo></mrow><mi>.</mi></mrow><annotation encoding="application/x-tex">
\forall u,v \in V: N(u) \subseteq N[v] \; \lor \; N(v) \subseteq N[u].
</annotation></semantics></math></p>
<p>According to <a href="neighborhood_inclusion.html">this</a> vignette,
it is thus clear that all centrality indices induce the same ranking on
a threshold graph. More technical details on threshold graphs and
results related to centrality can be found in</p>
<blockquote>
<p>Schoch, David &amp; Valente, Thomas W., &amp; Brandes, Ulrik. (2017).
Correlations among centrality indices and a class of uniquely ranked
graphs. <em>Social Networks</em>, <strong>50</strong>, 46-54.(<a href="https://doi.org/10.1016/j.socnet.2017.03.010" class="external-link">link</a>)</p>
</blockquote>
<hr>
</div>
<div class="section level2">
<h2 id="uniquely-ranked-graphs-in-the-netrankr-package">Uniquely Ranked Graphs in the <code>netrankr</code> Package<a class="anchor" aria-label="anchor" href="#uniquely-ranked-graphs-in-the-netrankr-package"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/schochastics/netrankr/" class="external-link">netrankr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1886</span><span class="op">)</span> <span class="co">#for reproducibility</span></span></code></pre></div>
<p>Threshold graphs on
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
vertices can be constructed iteratively with a sequence of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn><annotation encoding="application/x-tex">0</annotation></semantics></math>’s
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>1</mn><annotation encoding="application/x-tex">1</annotation></semantics></math>’s.
For each
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn><annotation encoding="application/x-tex">0</annotation></semantics></math>,
an isolated vertex is inserted and for each
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>1</mn><annotation encoding="application/x-tex">1</annotation></semantics></math>
a vertex that connects to all previously inserted one’s. This iterative
process is implemented in the <code>threshold_graph</code> function. The
parameter <code>n</code> is used to set the desired number of vertices.
The parameter <code>p</code> is the probability that a dominated vertex
is inserted in each step. This parameter roughly equates to the density
of the network.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="va">g1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">0.4</span><span class="op">)</span></span>
<span> <span class="va">g2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">0.05</span><span class="op">)</span></span>
<span> </span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/graph.density.html" class="external-link">graph.density</a></span><span class="op">(</span><span class="va">g1</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/graph.density.html" class="external-link">graph.density</a></span><span class="op">(</span><span class="va">g2</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `graph.density()` was deprecated in igraph 2.0.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Please use `edge_density()` instead.</span></span>
<span><span class="co">## <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">## <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">## <span style="color: #555555;">generated.</span></span></span></code></pre>
<pre><code><span><span class="co">## [1] 0.41 0.03</span></span></code></pre>
<p>The class of threshold graphs includes various well-known graphs, for
instance star shaped and complete networks. This graphs can be
constructed with <code>p=0</code> and <code>p=1</code> respectively.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">star</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">0</span><span class="op">)</span> </span>
<span><span class="va">complete</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">star</span>,vertex.label<span class="op">=</span><span class="cn">NA</span>,vertex.color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">complete</span>,vertex.label<span class="op">=</span><span class="cn">NA</span>,vertex.color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span></span></code></pre></div>
<p><img src="threshold_graph_files/figure-html/tg_example-1.png" width="700"><img src="threshold_graph_files/figure-html/tg_example-2.png" width="700"></p>
<p>To check that all pairs are comparable by neighborhood inclusion, we
can use the function <code>comparable_pairs</code>. The function
computes the density of the underlying undirected graph induced by the
neighborhood-inclusion relation.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">0.4</span><span class="op">)</span></span>
<span><span class="va">P</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/neighborhood_inclusion.html">neighborhood_inclusion</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/comparable_pairs.html">comparable_pairs</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="correlation-and-threshold-graphs">Correlation and Threshold Graphs<a class="anchor" aria-label="anchor" href="#correlation-and-threshold-graphs"></a>
</h2>
<p>We construct a random threshold graph and calculate some standard
measures of centrality that are included in the <code>igraph</code>
package.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">0.1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cent.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  degree<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/degree.html" class="external-link">degree</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,</span>
<span>  betweenness<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/betweenness.html" class="external-link">betweenness</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,</span>
<span>  closeness<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/closeness.html" class="external-link">closeness</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,</span>
<span>  eigenvector<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/eigen_centrality.html" class="external-link">eigen_centrality</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span>,<span class="fl">8</span><span class="op">)</span>,</span>
<span>  subgraph<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/subgraph_centrality.html" class="external-link">subgraph_centrality</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We expect, that all indices are perfectly rank correlated since all
pairs of nodes are comparable by neighborhood-inclusion.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cor.mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">cent.df</span>,<span class="fl">8</span><span class="op">)</span>,method<span class="op">=</span><span class="st">"kendall"</span><span class="op">)</span></span>
<span><span class="va">cor.mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">cor.mat</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">cor.mat</span></span></code></pre></div>
<pre><code><span><span class="co">##             degree betweenness closeness eigenvector subgraph</span></span>
<span><span class="co">## degree        1.00        0.52      1.00        1.00     0.96</span></span>
<span><span class="co">## betweenness   0.52        1.00      0.52        0.52     0.50</span></span>
<span><span class="co">## closeness     1.00        0.52      1.00        1.00     0.96</span></span>
<span><span class="co">## eigenvector   1.00        0.52      1.00        1.00     0.96</span></span>
<span><span class="co">## subgraph      0.96        0.50      0.96        0.96     1.00</span></span></code></pre>
<p>We, however, obtain correlations that are not equal to one. This is
due to the definition of Kendall’s (tie corrected)
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>.
Before going into detail, consider the following cases which can arise
when comparing two scores of indices <code>x</code> and
<code>y</code>.</p>
<ul>
<li>concordant: <code>x[i]&gt;x[j] &amp; y[i]&gt;y[j]</code> or
<code>x[i]&lt;x[j] &amp; y[i]&lt;y[j]</code>
</li>
<li>discordant: <code>x[i]&gt;x[j] &amp; y[i]&lt;y[j]</code> or
<code>x[i]&gt;x[j] &amp; y[i]&lt;y[j]</code>
</li>
<li>tied: <code>x[i]=x[j] &amp; y[i]=y[j]</code>
</li>
<li>left/right ties: <code>x[i]=x[j] &amp; y[i]!=y[j]</code> or
<code>x[i]!=x[j] &amp; y[i]=y[j]</code>
</li>
</ul>
<p>Kendall’s
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>
considers left and right ties as correlation reducing. That is if two
vertices are tied in one ranking, but not the other, the correlations is
weakened. Left and right ties are, however, not forbidden according to
the neighborhood inclusion property. The only forbidden case are
discordant pairs. That is,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N(u)\subseteq N[v]</annotation></semantics></math>
can not result in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>&gt;</mo><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">c(u)&gt;c(v)</annotation></semantics></math>
but it may result in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">c(u)=c(v)</annotation></semantics></math>.
Also, one can argue that left and right ties distinguish between
fine/coarse grained indices.</p>
<p><code>netrankr</code> comes with a function called
<code>compare_ranks</code> which calculates all occurrences of the above
cases. Simply counting the cases instead of aggregating them will help
circumvent the problem of possibly misinterpreting correlation
measures.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_ranks.html">compare_ranks</a></span><span class="op">(</span><span class="va">cent.df</span><span class="op">$</span><span class="va">degree</span>,<span class="va">cent.df</span><span class="op">$</span><span class="va">betweenness</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## concordant discordant       ties       left      right </span></span>
<span><span class="co">##       1209          0        464          0       3277</span></span></code></pre>
<p>Notice that there is a high number of right ties which influences the
correlation if measured with Kendall’s
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>.
However, there do not exist any discordant pairs for any pair of
indices.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dis.pairs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">dis.pairs</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">cent.df</span>,<span class="fl">2</span>,</span>
<span>                       <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="../reference/compare_ranks.html">compare_ranks</a></span><span class="op">(</span><span class="va">cent.df</span><span class="op">$</span><span class="va">degree</span>,<span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">discordant</span><span class="op">)</span></span>
<span><span class="va">dis.pairs</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">cent.df</span>,<span class="fl">2</span>,</span>
<span>                       <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="../reference/compare_ranks.html">compare_ranks</a></span><span class="op">(</span><span class="va">cent.df</span><span class="op">$</span><span class="va">betweenness</span>,<span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">discordant</span><span class="op">)</span></span>
<span><span class="va">dis.pairs</span><span class="op">[</span><span class="fl">3</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">cent.df</span>,<span class="fl">2</span>,</span>
<span>                       <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="../reference/compare_ranks.html">compare_ranks</a></span><span class="op">(</span><span class="va">cent.df</span><span class="op">$</span><span class="va">closeness</span>,<span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">discordant</span><span class="op">)</span></span>
<span><span class="va">dis.pairs</span><span class="op">[</span><span class="fl">4</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">cent.df</span>,<span class="fl">2</span>,</span>
<span>                       <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="../reference/compare_ranks.html">compare_ranks</a></span><span class="op">(</span><span class="va">cent.df</span><span class="op">$</span><span class="va">eigenvector</span>,<span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">discordant</span><span class="op">)</span></span>
<span><span class="va">dis.pairs</span><span class="op">[</span><span class="fl">5</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">cent.df</span>,<span class="fl">2</span>,</span>
<span>                       <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="../reference/compare_ranks.html">compare_ranks</a></span><span class="op">(</span><span class="va">cent.df</span><span class="op">$</span><span class="va">subgraph</span>,<span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">discordant</span><span class="op">)</span></span>
<span><span class="va">dis.pairs</span></span></code></pre></div>
<pre><code><span><span class="co">##      [,1] [,2] [,3] [,4] [,5]</span></span>
<span><span class="co">## [1,]    0    0    0    0    0</span></span>
<span><span class="co">## [2,]    0    0    0    0    0</span></span>
<span><span class="co">## [3,]    0    0    0    0    0</span></span>
<span><span class="co">## [4,]    0    0    0    0    0</span></span>
<span><span class="co">## [5,]    0    0    0    0    0</span></span></code></pre>
<p>Although Kendall’s
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>
suggests that the correlations among indices can be low, we see that
there do not exist any discordant pairs on threshold graphs.</p>
</div>
<div class="section level2">
<h2 id="distances-from-a-threshold-graph">Distances from a threshold graph<a class="anchor" aria-label="anchor" href="#distances-from-a-threshold-graph"></a>
</h2>
<p>As it is always the case with artificial graph structures, it is
rather unlikely to encounter threshold graphs in the wild. The best we
can hope for is to be <em>close</em> to a threshold graph. This is based
on the intuition that the closer a graph is to be a threshold graph, the
more of its properties resemble one. The closer we are, the more
correlated we assume centrality indices to be. The further away we are,
the more disagreement we will find among indices. The problematic point
is: how do we define <em>being close to a threshold graph</em>. An in
depth discussion of possible measures can be found in the paper
mentioned at the beginning of this vignette.</p>
<p><code>netrankr</code> implements one function that can be used to
assess the distance of arbitrary graphs to threshold graphs. The so
called <em>majorization gap</em> operates solely on the degree sequence
and determines the number of entries that have to be changed in order to
obtain the degree sequence of a threshold graph. Changing can, however,
not be done arbitrarily. The only allowed operation is to lower the
degree of one vertex and simultaneously increase the degree of another.
For threshold graphs, this measure is obviously zero.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/majorization_gap.html">majorization_gap</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0</span></span></code></pre>
<p>By default, <code>majorization_gap</code> is normalized by the number
of edges.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dbces11"</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">dbces11</span></span>
<span></span>
<span><span class="fu"><a href="../reference/majorization_gap.html">majorization_gap</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.3529412</span></span></code></pre>
<p>In this example, around 35% of all entries have to be changed in
order to obtain a threshold graph. The normalization is done to compare
the majorization gap across networks with different sizes. To obtain the
raw number of changes, set <code>norm=FALSE</code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/majorization_gap.html">majorization_gap</a></span><span class="op">(</span><span class="va">g</span>,norm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 6</span></span></code></pre>
<p>The majorization gap serves as an indicator for how much variance we
can expect in the rankings of different centrality indices. The lower it
is, the closer we are to a threshold graph where only one ranking is
possible. The further away we are, the more degrees of freedom exist to
rank nodes differently and we will generally observe lower correlations.
For more details, again, refer to the mentioned paper at the
beginning.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
