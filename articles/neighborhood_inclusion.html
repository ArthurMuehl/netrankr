<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Neighborhood-inclusion in networks • netrankr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Neighborhood-inclusion in networks">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netrankr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a></li>
    <li><a class="dropdown-item" href="../articles/threshold_graph.html">Uniquely Ranked Graphs</a></li>
    <li><a class="dropdown-item" href="../articles/positional_dominance.html">Positional Dominance</a></li>
    <li><a class="dropdown-item" href="../articles/indirect_relations.html">Indirect Relations in Networks</a></li>
    <li><a class="dropdown-item" href="../articles/centrality_indices.html">Centrality Indices</a></li>
    <li><a class="dropdown-item" href="../articles/partial_centrality.html">Partial Centrality</a></li>
    <li><a class="dropdown-item" href="../articles/probabilistic_cent.html">Probabilistic Centrality</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-introduction/">Blog Post I</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-neighborhood-inclusion/">Blog Post II</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-new-ways-of-measuring-centrality/">Blog Post III</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/use_case.html">Use Case</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/benchmarks.html">Benchmarks</a></li>
<li class="nav-item"><a class="external-link nav-link" href="http://schochastics.net/sna/periodic.html">Periodic Table</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/schochastics/netrankr"><span class="fa fa-github fa-lg"></span> Github</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Neighborhood-inclusion in networks</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/schochastics/netrankr/blob/v1.2.4/vignettes/neighborhood_inclusion.Rmd" class="external-link"><code>vignettes/neighborhood_inclusion.Rmd</code></a></small>
      <div class="d-none name"><code>neighborhood_inclusion.Rmd</code></div>
    </div>

    
    
<p>This vignette describes the concept of neighborhood-inclusion, its
connection with network centrality and gives some example use cases with
the <code>netrankr</code> package. The partial ranking induced by
neighborhood-inclusion can be used to assess <a href="partial_centrality.html">partial centrality</a> or compute <a href="probabilistic_cent.html">probabilistic centrality</a>.</p>
<hr>
<div class="section level2">
<h2 id="theoretical-background">Theoretical Background<a class="anchor" aria-label="anchor" href="#theoretical-background"></a>
</h2>
<p>In an undirected graph
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>V</mi><mo>,</mo><mi>E</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">G=(V,E)</annotation></semantics></math>,
the <em>neighborhood</em> of a node
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo>∈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">u \in V</annotation></semantics></math>
is defined as
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>w</mi><mo>:</mo><mo stretchy="false" form="prefix">{</mo><mi>u</mi><mo>,</mo><mi>w</mi><mo stretchy="false" form="postfix">}</mo><mo>∈</mo><mi>E</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">N(u)=\lbrace w : \lbrace u,w \rbrace \in E \rbrace</annotation></semantics></math>
and its <em>closed neighborhood</em> as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>∪</mo><mo stretchy="false" form="prefix">{</mo><mi>v</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">N[v]=N(v) \cup \lbrace v \rbrace</annotation></semantics></math>.
If the neighborhood of a node
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>
is a subset of the closed neighborhood of a node
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>v</mi><annotation encoding="application/x-tex">v</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N(u)\subseteq N[v]</annotation></semantics></math>,
we speak of <em>neighborhood inclusion</em>. This concept defines a
dominance relation among nodes in a network. We say that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>
is <em>dominated</em> by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>v</mi><annotation encoding="application/x-tex">v</annotation></semantics></math>
if
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N(u)\subseteq N[v]</annotation></semantics></math>.
Neighborhood-inclusion induces a partial ranking on the vertices of a
network. That is, (usually) some (if not most!) pairs of vertices are
incomparable, such that neither
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N(u)\subseteq N[v]</annotation></semantics></math>
nor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>u</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N(v)\subseteq N[u]</annotation></semantics></math>
holds. There is, however, a special graph class where all pairs are
comparable (found in <a href="threshold_graph.html">this</a>
vignette).</p>
<p>The importance of neighborhood-inclusion is given by the following
result:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>⟹</mo><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>≤</mo><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
N(u)\subseteq N[v] \implies c(u)\leq c(v),
</annotation></semantics></math> where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>
is a centrality index defined on special path algebras. These include
many of the well known measures like closeness (and variants),
betweenness (and variants) as well as many walk-based indices
(eigenvector and subgraph centrality, total communicability,…).</p>
<p>Very informally, if
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>
is dominated by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>v</mi><annotation encoding="application/x-tex">v</annotation></semantics></math>,
then u is less central than
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>v</mi><annotation encoding="application/x-tex">v</annotation></semantics></math>
no matter which centrality index is used, that fulfill the requirement.
While this is the key result, this short description leaves out many
theoretical considerations. These and more can be found in</p>
<blockquote>
<p>Schoch, David &amp; Brandes, Ulrik. (2016). Re-conceptualizing
centrality in social networks. <em>European Journal of Appplied
Mathematics</em>, <strong>27</strong>(6), 971–985. (<a href="https://doi.org/10.1017/S0956792516000401" class="external-link">link</a>)</p>
</blockquote>
<hr>
</div>
<div class="section level2">
<h2 id="neighborhood-inclusion-in-the-netrankr-package">Neighborhood-inclusion in the <code>netrankr</code> Package<a class="anchor" aria-label="anchor" href="#neighborhood-inclusion-in-the-netrankr-package"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/schochastics/netrankr/" class="external-link">netrankr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1886</span><span class="op">)</span> <span class="co">#for reproducibility</span></span></code></pre></div>
<p>We work with the following simple graph.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dbces11"</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">dbces11</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>,</span>
<span>     vertex.color<span class="op">=</span><span class="st">"black"</span>,vertex.label.color<span class="op">=</span><span class="st">"white"</span>, vertex.size<span class="op">=</span><span class="fl">16</span>,vertex.label.cex<span class="op">=</span><span class="fl">0.75</span>,</span>
<span>     edge.color<span class="op">=</span><span class="st">"black"</span>,</span>
<span>     margin<span class="op">=</span><span class="fl">0</span>,asp<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="neighborhood_inclusion_files/figure-html/simple_graph-1.png" width="288" style="display: block; margin: auto;"></p>
<p>We can compare neighborhoods manually with the
<code>neighborhood</code> function of the <code>igraph</code> package.
Note the <code>mindist</code> parameter to distinguish between open and
closed neighborhood.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">u</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">Nu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/ego.html" class="external-link">neighborhood</a></span><span class="op">(</span><span class="va">g</span>,order<span class="op">=</span><span class="fl">1</span>,nodes<span class="op">=</span><span class="va">u</span>,mindist <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co">#N(u) </span></span>
<span><span class="va">Nv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/ego.html" class="external-link">neighborhood</a></span><span class="op">(</span><span class="va">g</span>,order<span class="op">=</span><span class="fl">1</span>,nodes<span class="op">=</span><span class="va">v</span>,mindist <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co">#N[v] </span></span>
<span></span>
<span><span class="va">Nu</span></span></code></pre></div>
<pre><code><span><span class="co">## + 2/11 vertices, named, from 013399c:</span></span>
<span><span class="co">## [1] E K</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Nv</span></span></code></pre></div>
<pre><code><span><span class="co">## + 4/11 vertices, named, from 013399c:</span></span>
<span><span class="co">## [1] E C I K</span></span></code></pre>
<p>Although it is obvious that <code>Nu</code> is a subset of
<code>Nv</code>, we can verify it as follows.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">Nu</span><span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span><span class="va">Nv</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<p>Checking all pairs of nodes can efficiently be done with the
<code><a href="../reference/neighborhood_inclusion.html">neighborhood_inclusion()</a></code> function from the
<code>netrankr</code> package.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">P</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/neighborhood_inclusion.html">neighborhood_inclusion</a></span><span class="op">(</span><span class="va">g</span>, sparse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">P</span></span></code></pre></div>
<pre><code><span><span class="co">##   A B C D E F G H I J K</span></span>
<span><span class="co">## A 0 0 1 0 1 1 1 0 0 0 1</span></span>
<span><span class="co">## B 0 0 0 1 0 0 0 1 0 0 0</span></span>
<span><span class="co">## C 0 0 0 0 1 0 0 0 0 0 1</span></span>
<span><span class="co">## D 0 0 0 0 0 0 0 0 0 0 0</span></span>
<span><span class="co">## E 0 0 0 0 0 0 0 0 0 0 0</span></span>
<span><span class="co">## F 0 0 0 0 0 0 0 0 0 0 0</span></span>
<span><span class="co">## G 0 0 0 0 0 0 0 0 0 0 0</span></span>
<span><span class="co">## H 0 0 0 0 0 0 0 0 0 0 0</span></span>
<span><span class="co">## I 0 0 0 0 0 0 0 0 0 0 0</span></span>
<span><span class="co">## J 0 0 0 0 0 0 0 0 0 0 0</span></span>
<span><span class="co">## K 0 0 0 0 0 0 0 0 0 0 0</span></span></code></pre>
<p>If an entry <code>P[u,v]</code> is equal to one, we have
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N(u)\subseteq N[v]</annotation></semantics></math>.</p>
<p>The function <code><a href="../reference/dominance_graph.html">dominance_graph()</a></code> can alternatively be used
to visualize the neighborhood inclusion as a directed graph.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g.dom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dominance_graph.html">dominance_graph</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g.dom</span>,</span>
<span>     vertex.color<span class="op">=</span><span class="st">"black"</span>,vertex.label.color<span class="op">=</span><span class="st">"white"</span>, vertex.size<span class="op">=</span><span class="fl">16</span>, vertex.label.cex<span class="op">=</span><span class="fl">0.75</span>,</span>
<span>     edge.color<span class="op">=</span><span class="st">"black"</span>, edge.arrow.size<span class="op">=</span><span class="fl">0.5</span>,margin<span class="op">=</span><span class="fl">0</span>,asp<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="neighborhood_inclusion_files/figure-html/dominance_graph-1.png" width="480" style="display: block; margin: auto;"></p>
<div class="section level3">
<h3 id="centrality-and-neighborhood-inclusion">Centrality and Neighborhood-inclusion<a class="anchor" aria-label="anchor" href="#centrality-and-neighborhood-inclusion"></a>
</h3>
<p>We start by calculating some standard measures of centrality found in
the <code>ìgraph</code> package for our example network. Note that the
<code>netrankr</code> package also implements a great variety of
indices, but they need further specifications described in <a href="centrality_indices.html">this</a> vignette.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cent.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  vertex<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>  degree<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/degree.html" class="external-link">degree</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,</span>
<span>  betweenness<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/betweenness.html" class="external-link">betweenness</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,</span>
<span>  closeness<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/closeness.html" class="external-link">closeness</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,</span>
<span>  eigenvector<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/eigen_centrality.html" class="external-link">eigen_centrality</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span>,</span>
<span>  subgraph<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/subgraph_centrality.html" class="external-link">subgraph_centrality</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#rounding for better readability</span></span>
<span><span class="va">cent.df.rounded</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">cent.df</span>,<span class="fl">4</span><span class="op">)</span> </span>
<span><span class="va">cent.df.rounded</span></span></code></pre></div>
<pre><code><span><span class="co">##   vertex degree betweenness closeness eigenvector subgraph</span></span>
<span><span class="co">## A      1      1      0.0000    0.0370      0.2260   1.8251</span></span>
<span><span class="co">## B      2      1      0.0000    0.0294      0.0646   1.5954</span></span>
<span><span class="co">## C      3      2      0.0000    0.0400      0.3786   3.1486</span></span>
<span><span class="co">## D      4      2      9.0000    0.0400      0.2415   2.4231</span></span>
<span><span class="co">## E      5      3      3.8333    0.0500      0.5709   4.3871</span></span>
<span><span class="co">## F      6      4      9.8333    0.0588      0.9847   7.8073</span></span>
<span><span class="co">## G      7      4      2.6667    0.0526      1.0000   7.9394</span></span>
<span><span class="co">## H      8      4     16.3333    0.0556      0.8386   6.6728</span></span>
<span><span class="co">## I      9      4      7.3333    0.0556      0.9114   7.0327</span></span>
<span><span class="co">## J     10      4      1.3333    0.0526      0.9986   8.2421</span></span>
<span><span class="co">## K     11      5     14.6667    0.0556      0.8450   7.3896</span></span></code></pre>
<p>Notice how for each centrality index, different vertices are
considered to be the most central node. The most central from degree to
subgraph centrality are
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>11</mn><annotation encoding="application/x-tex">11</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>8</mn><annotation encoding="application/x-tex">8</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>6</mn><annotation encoding="application/x-tex">6</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>7</mn><annotation encoding="application/x-tex">7</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>10</mn><annotation encoding="application/x-tex">10</annotation></semantics></math>.
Note that only <em>undominated</em> vertices can achieve the highest
score for any reasonable index. As soon as a vertex is dominated by at
least one other, it will always be ranked below the dominator. We can
check for undominated vertices simply by forming the row Sums in
<code>P</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  D  E  F  G  H  I  J  K </span></span>
<span><span class="co">##  4  5  6  7  8  9 10 11</span></span></code></pre>
<p>8 nodes are undominated in the graph. It is thus entirely possible to
find indices that would also rank
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>,</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">4, 5</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>9</mn><annotation encoding="application/x-tex">9</annotation></semantics></math>
on top.</p>
<p>Besides the top ranked nodes, we can check if the entire partial
ranking <code>P</code> is preserved in each centrality ranking. If there
exists a pair
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>v</mi><annotation encoding="application/x-tex">v</annotation></semantics></math>
and index
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">c()</annotation></semantics></math>
such that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">N(u)\subseteq N[v]</annotation></semantics></math>
but
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>&gt;</mo><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">c(v)&gt;c(u)</annotation></semantics></math>,
we do not consider
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>
to be a valid index.</p>
<p>In our example, we considered vertex
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn><annotation encoding="application/x-tex">3</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>5</mn><annotation encoding="application/x-tex">5</annotation></semantics></math>,
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn><annotation encoding="application/x-tex">3</annotation></semantics></math>
was dominated by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>5</mn><annotation encoding="application/x-tex">5</annotation></semantics></math>.
It is easy to verify that all centrality scores of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>5</mn><annotation encoding="application/x-tex">5</annotation></semantics></math>
are in fact greater than the ones of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn><annotation encoding="application/x-tex">3</annotation></semantics></math>
by inspecting the respective rows in the table. To check all pairs, we
use the function <code>is_preserved</code>. The function takes a partial
ranking, as induced by neighborhood inclusion, and a score vector of a
centrality index and checks if
<code>P[i,j]==1 &amp; scores[i]&gt;scores[j]</code> is
<code>FALSE</code> for all pairs <code>i</code> and <code>j</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">cent.df</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>,<span class="fl">2</span>,<span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/is_preserved.html">is_preserved</a></span><span class="op">(</span><span class="va">P</span>,<span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      degree betweenness   closeness eigenvector    subgraph </span></span>
<span><span class="co">##        TRUE        TRUE        TRUE        TRUE        TRUE</span></span></code></pre>
<p>All considered indices preserve the neighborhood inclusion preorder
on the example network.</p>
<p><em>NOTE</em>: Preserving neighborhood inclusion on
<strong>one</strong> network does not guarantee that an index preserves
it on <strong>all</strong> networks. For more details refer to the paper
cited in the first section.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
