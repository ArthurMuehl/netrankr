<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A package for centrality analyses of networks • netrankr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">netrankr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    How To
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a>
    </li>
    <li>
      <a href="articles/threshold_graph.html">Uniquely Ranked Graphs</a>
    </li>
    <li>
      <a href="articles/positional_dominance.html">Positional Dominance</a>
    </li>
    <li>
      <a href="articles/indirect_relations.html">Indirect Relations in Networks</a>
    </li>
    <li>
      <a href="articles/centrality_indices.html">Centrality Indices</a>
    </li>
    <li>
      <a href="articles/partial_centrality.html">Partial Centrality</a>
    </li>
    <li>
      <a href="articles/probabilistic_cent.html">Probabilistic Centrality</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/schochastics/netrankr">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>netrankr is an R package that can be used for centrality analyses of networks. Although it implements some indices, the main focus lies on an index-free assessment of centrality in networks. Most implemented methods are, however, more general and can be used whenever partial rankings have to be analysed.</p>
</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(devtools)
<span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"schochastics/netrankr"</span>)</code></pre></div>
</div>
<div id="details" class="section level2">
<h2 class="hasAnchor">
<a href="#details" class="anchor"></a>Details</h2>
<p>Some features of the package are:</p>
<ul>
<li>Working with the neighborhood inclusion preorder. This forms the bases for any centrality analysis on undirected and unweighted graphs. More details can be found in the dedicated vignette: <code><a href="https://cran.rstudio.com/web/packages/netrankr/vignettes/neighborhood_inclusion.html">vignette("neighborhood_inclusion",package="netrankr")</a></code>.</li>
<li>Constructing graphs with a unique centrality ranking. This class of graphs, known as threshold graphs, can be used to benchmark centrality indices, since they only allow for one ranking of the nodes. For more details consult the vignette: <code><a href="https://cran.rstudio.com/web/packages/netrankr/vignettes/threshold_graph.html">vignette("threshold_graph",package="netrankr")</a></code>.</li>
<li>Probabilistic ranking methods. The package includes several function to perform probabilistic rank analyses of nodes in a network. These include expected ranks and relative rank probabilities (how likely is it that a node is more central than another). An extensive example is given at the end of this document.</li>
</ul>
<p>To browse all vignettes use: <code>browseVignettes(package = "netrankr")</code></p>
</div>
<div id="notable-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#notable-functions" class="anchor"></a>Notable functions</h2>
<ul>
<li>
<code>neighborhood_inclusion</code> and <code>positional_dominance</code> can be used to construct partial orders on a network. While <code>neighborhood_inclusion</code> is very specific (undirected, unweighted networks), <code>positional_dominance</code> can be used with any kind of input network. If cost variables (e.g. distances) are used, set <code>benefit=FALSE</code>. If actor identities don’t matter set <code>map=TRUE</code>. Consult the respective vignettes for more detailed explanations.</li>
<li>
<code>threshold_graphs</code> constructs a random uniquely ranked graph. That is, a graph where all centrality indices yield the same ranking.</li>
<li>
<code>exact_rank_prob</code> performs a complete and exact rank analysis of a network, including expected ranks and relative rank probabilities (how likely is it that a node is more central than another?) as well as the number of possible centrality rankings. For larger networks, various approximation functions can be used. See vignettes for help.</li>
</ul>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(igraph)
<span class="kw">library</span>(netrankr)
<span class="kw">set.seed</span>(<span class="dv">123</span>)
g &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/make_empty_graph">graph.empty</a></span>(<span class="dt">n=</span><span class="dv">11</span>,<span class="dt">directed =</span> <span class="ot">FALSE</span>)
g &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/add_edges">add_edges</a></span>(g,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">11</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">11</span>,<span class="dv">4</span>,<span class="dv">8</span>,<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">6</span>,<span class="dv">8</span>,
                    <span class="dv">6</span>,<span class="dv">10</span>,<span class="dv">6</span>,<span class="dv">11</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">10</span>,<span class="dv">7</span>,<span class="dv">11</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">9</span>,<span class="dv">10</span>))
<span class="co"># plot(g)</span></code></pre></div>
<p>Calculate centrality scores with the <code>igraph</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cent_scores &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
   <span class="dt">degree=</span><span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/degree">degree</a></span>(g),
   <span class="dt">betweenness=</span><span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/betweenness">betweenness</a></span>(g),<span class="dv">4</span>),
   <span class="dt">closeness=</span><span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/closeness">closeness</a></span>(g),<span class="dv">4</span>),
   <span class="dt">eigenvector=</span><span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/eigen_centrality">eigen_centrality</a></span>(g)$vector,<span class="dv">4</span>),
   <span class="dt">subgraph=</span><span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/subgraph_centrality">subgraph_centrality</a></span>(g),<span class="dv">4</span>))

<span class="kw">apply</span>(cent_scores,<span class="dv">2</span>,which.max)</code></pre></div>
<pre><code>##      degree betweenness   closeness eigenvector    subgraph 
##          11           8           6           7          10</code></pre>
<p>Each index assigns the highest value to a different vertex!</p>
<p>More generic approach via neighborhood-inclusion.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">P &lt;-<span class="st"> </span><span class="kw"><a href="reference/neighborhood_inclusion.html">neighborhood_inclusion</a></span>(g)
P</code></pre></div>
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11]
##  [1,]    0    0    1    0    1    1    1    0    0     0     1
##  [2,]    0    0    0    1    0    0    0    1    0     0     0
##  [3,]    0    0    0    0    1    0    0    0    0     0     1
##  [4,]    0    0    0    0    0    0    0    0    0     0     0
##  [5,]    0    0    0    0    0    0    0    0    0     0     0
##  [6,]    0    0    0    0    0    0    0    0    0     0     0
##  [7,]    0    0    0    0    0    0    0    0    0     0     0
##  [8,]    0    0    0    0    0    0    0    0    0     0     0
##  [9,]    0    0    0    0    0    0    0    0    0     0     0
## [10,]    0    0    0    0    0    0    0    0    0     0     0
## [11,]    0    0    0    0    0    0    0    0    0     0     0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">D &lt;-<span class="st"> </span><span class="kw"><a href="reference/dominance_graph.html">dominance_graph</a></span>(P)
<span class="co"># plot(D)</span></code></pre></div>
<p>If <code>P[u,v]=1</code> or equivalently <code>(u,v)</code> is an edge in <code>D</code>, then <span class="math inline">\(N(u) \subseteq N[v]\)</span> holds, which implies that <span class="math inline">\(c(u) \leq c(v)\)</span> for all centrality indices <span class="math inline">\(c\)</span>!</p>
<p>Neighborhood-inclusion defines a partial ranking on the set of nodes. Each ranking that is in accordance with this partial ranking defines a proper centrality ranking. Each of these ranking can potentially be the outcome of a centrality index.</p>
<p>The function <code><a href="reference/exact_rank_prob.html">exact_rank_prob()</a></code> can be used to calculate all these ranking and produce probabilistic centrality rankings.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res &lt;-<span class="st"> </span><span class="kw"><a href="reference/exact_rank_prob.html">exact_rank_prob</a></span>(P)
<span class="kw">str</span>(res)</code></pre></div>
<pre><code>## List of 7
##  $ lin.ext      : num 739200
##  $ names        : chr [1:11] "1" "2" "3" "4" ...
##  $ mse          : int [1:11] 1 2 3 4 5 6 7 8 9 10 ...
##  $ rank.prob    : num [1:11, 1:11] 0.545 0.273 0 0 0 ...
##  $ relative.rank: num [1:11, 1:11] 0 0.3333 0 0.0476 0 ...
##  $ expected.rank: num [1:11] 1.71 3 4.29 7.5 8.14 ...
##  $ rank.spread  : num [1:11] 0.958 1.897 1.725 2.54 2.16 ...</code></pre>
<p><code>lin.ext</code> is the number of possible rankings. For the graph <code>g</code> we could thus come up with 739,200 indices that would rank the node differently.</p>
<p><code>rank.prob</code> contains the probabilities for each node to occupy a certain rank. For instance, the probability for each node to be the most central one is as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">round</span>(res$rank.prob[,<span class="dv">11</span>],<span class="dv">2</span>)</code></pre></div>
<pre><code>##  [1] 0.00 0.00 0.00 0.14 0.16 0.11 0.11 0.14 0.09 0.09 0.16</code></pre>
<p><code>relative.rank</code> contains the relative rank probabilites. An entry <code>relative.rank[u,v]</code> indicates how likely it is that <code>v</code> is more central than <code>u</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># How likely is it, that 6 is more central than 3?</span>
<span class="kw">round</span>(res$relative.rank[<span class="dv">3</span>,<span class="dv">6</span>],<span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 0.75</code></pre>
<p><code>expected.ranks</code> contains the expected centrality ranks for all nodes. They are derived on the basis of <code>rank.prob</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">round</span>(res$expected.rank,<span class="dv">2</span>)</code></pre></div>
<pre><code>##  [1] 1.71 3.00 4.29 7.50 8.14 6.86 6.86 7.50 6.00 6.00 8.14</code></pre>
<p>The higher the value, the more central a node is expected to be.</p>
<p><strong>Note</strong>: The set of rankings grows exponentially in the number of nodes. The exact calculation thus becomes infeasible quite quickly. The package also implements a great variety of approximation methods for larger networks. Check the manual for options.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/schochastics/netrankr">https://​github.com/​schochastics/​netrankr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/schochastics/netrankr/issues">https://​github.com/​schochastics/​netrankr/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>David Schoch <br><small class="roles"> Author, maintainer </small> </li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
