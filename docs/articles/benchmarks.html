<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Benchmark Results â€¢ netrankr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">netrankr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    How To
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a>
    </li>
    <li>
      <a href="../articles/threshold_graph.html">Uniquely Ranked Graphs</a>
    </li>
    <li>
      <a href="../articles/positional_dominance.html">Positional Dominance</a>
    </li>
    <li>
      <a href="../articles/indirect_relations.html">Indirect Relations in Networks</a>
    </li>
    <li>
      <a href="../articles/centrality_indices.html">Centrality Indices</a>
    </li>
    <li>
      <a href="../articles/partial_centrality.html">Partial Centrality</a>
    </li>
    <li>
      <a href="../articles/probabilistic_cent.html">Probabilistic Centrality</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/use_case.html">Use Case</a>
</li>
<li>
  <a href="../articles/benchmarks.html">Benchmarks</a>
</li>
<li>
  <a href="http://schochastics.net/sna/periodic.html">Periodic Table</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/schochastics/netrankr">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Benchmark Results</h1>
            
          </div>

    
    
<div class="contents">
<p>Some of the methods provided in <code>netrankr</code> are computationally very expensive. Computing all rankings of a partial ranking, for instance, is a NP-hard problem such that using the function <code><a href="../reference/exact_rank_prob.html">exact_rank_prob()</a></code> quickly becomes infeasible. This article provides some guidelines for when the use of this function is possible. Additionally, the quality of the approximation functions <code>approx_*</code> and sampling rankings with <code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code> for <strong>expected ranks</strong> and <strong>relative rank probabilities</strong> are assessed.</p>
<hr>
<div id="runtimes-exact-probabilities" class="section level2">
<h2 class="hasAnchor">
<a href="#runtimes-exact-probabilities" class="anchor"></a>Runtimes exact probabilities</h2>
<p>The below figure shows the runtime of <code><a href="../reference/exact_rank_prob.html">exact_rank_prob()</a></code> for a sample of 13,000 partial rankings with 10 to 30 nodes and varying degree of completeness.</p>
<p><img src="runtimes_exact.png" width="100%"></p>
<p>Not surprisingly, the runtime increases quickly with the number of nodes and the number of incomparable pairs in the partial ranking. As a very crude rule of thumb: As long as a partial ranking has less than 30 elements, it is always save to run <code><a href="../reference/exact_rank_prob.html">exact_rank_prob()</a></code>. Beyond 30 elements, it is advisable to only use the function if a high fraction of pairs of elements is already comparable. The more elements, the higher this fraction should be.</p>
<hr>
</div>
<div id="approximating-expected-ranks" class="section level2">
<h2 class="hasAnchor">
<a href="#approximating-expected-ranks" class="anchor"></a>Approximating expected ranks</h2>
<p><code>netrankr</code> implements five methods to approximate expected ranks which are given by the functions <code><a href="../reference/approx_rank_expected.html">approx_rank_expected()</a></code> and <code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code>. The four methods implemented in the former are only based on structural features of the partial ranking, while the latter is based on sampling rankings (almost) uniformly at random from the set of all rankings. Consult the help files for a more detailed description and references. The below figure shows the (averaged) mean absolute error compared to the exact expected ranks of the five methods on the set of 13000 partial rankings from above. The number of drawn samples for the mcmc function is set to <span class="math inline">\(n^4\)</span>, where <span class="math inline">\(n\)</span> is the number of elements in the partial ranking.</p>
<p><img src="quality_expected_mse.png" width="100%"></p>
<p>The basic <em>local partial order model</em> performs considerably worse than the other methods on almost all partial rankings. Its generalized version outperforms the methods based on the relative rank probabilities (<em>loof1</em> and <em>loof2</em>) if the number of incomparable pairs is high. The mcmc method generally yields the best approximations, especially with increasing number of elements. However, its performance seems to get worse when almost none of the elements are comparable. This issue is discussed in the section on choosing the number of samples further down.</p>
<hr>
</div>
<div id="approximating-relative-ranks" class="section level2">
<h2 class="hasAnchor">
<a href="#approximating-relative-ranks" class="anchor"></a>Approximating relative ranks</h2>
<p>Relative ranks can either be approximated with the iterative function <code><a href="../reference/approx_rank_relative.html">approx_rank_relative()</a></code> or again via sampling rankings (almost) uniformly at random with <code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code>. The below figure shows the (averaged) mean absolute error compared to the exact relative rank probabilities on the set of 13000 partial rankings from above. The number of drawn samples for the mcmc function is set to <span class="math inline">\(n^4\)</span>, where <span class="math inline">\(n\)</span> is the number of elements in the partial ranking. The number of iterative steps in <code><a href="../reference/approx_rank_relative.html">approx_rank_relative()</a></code> is set to 1 (no iteration), 5, 10 and 15 respectively. <img src="quality_relative_mse.png" width="100%"></p>
<p>Clearly, the non-iterative approximation performs worse on all partial rankings. The more iterations the better the approximation quality seems to be, yet the gain in quality going from 10 to 15 iterations seems negligible. The function based on random samples again performs better except in the region of low comparability.</p>
<hr>
</div>
<div id="mcmc-sampling-of-rankings" class="section level2">
<h2 class="hasAnchor">
<a href="#mcmc-sampling-of-rankings" class="anchor"></a>MCMC sampling of rankings</h2>
<p>The results above have shown that approximating expected ranks and relative rank probabilities on the basis of a random sample generally give the best results, except in the region of low comparability. This problem can be mitigated by increasing the number of samples. The below boxplot shows the mean absolute error for the expected ranks of an empty partial ranking with 10 elements, when the number of samples is increased. For each sample size, 100 repetition were done. <img src="mcmc_samples_exp.png" width="100%"></p>
<p>The same procedure is carried out for the relative ranks below.</p>
<p><img src="mcmc_samples_rel.png" width="100%"></p>
<p>That is, increasing the number of samples (quite naturally) leads to better approximations, but of course also comes with an increase in running time, especially for larger partial rankings.</p>
<hr>
</div>
<div id="runtimes-of-approximation" class="section level2">
<h2 class="hasAnchor">
<a href="#runtimes-of-approximation" class="anchor"></a>Runtimes of approximation</h2>
<p>The function <code><a href="../reference/mcmc_rank_prob.html">mcmc_rank_prob()</a></code> generally gives the best approximations. The larger the number of samples, the better. Since the number of samples should be at least cubic in the number of elements, it is limited to partial rankings with a couple of hundred elements.</p>
<p>Although the function <code><a href="../reference/approx_rank_expected.html">approx_rank_expected()</a></code> and <code><a href="../reference/approx_rank_relative.html">approx_rank_relative()</a></code> performed the worst in the above tests, they are computationally the least expensive with a time complexity of <span class="math inline">\(\mathcal{O}(n^2)\)</span>. Thus, they are able to at least give a rough approximation also for partial rankings beyond a 1000 elements.</p>
<hr>
</div>
<div id="session-info" class="section level2">
<h2 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session info</h2>
<pre><code>## R version 3.4.1 (2017-06-30)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 16.04.3 LTS
## 
## Matrix products: default
## BLAS: /usr/lib/libblas/libblas.so.3.6.0
## LAPACK: /usr/lib/lapack/liblapack.so.3.6.0
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=de_DE.UTF-8        LC_COLLATE=en_US.UTF-8    
##  [5] LC_MONETARY=de_DE.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=de_DE.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=de_DE.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## loaded via a namespace (and not attached):
##  [1] compiler_3.4.1  backports_1.1.0 magrittr_1.5    rprojroot_1.2  
##  [5] tools_3.4.1     htmltools_0.3.6 yaml_2.1.14     Rcpp_0.12.11   
##  [9] stringi_1.1.5   rmarkdown_1.6   knitr_1.16      stringr_1.2.0  
## [13] digest_0.6.12   evaluate_0.10.1</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#runtimes-exact-probabilities">Runtimes exact probabilities</a></li>
      <li><a href="#approximating-expected-ranks">Approximating expected ranks</a></li>
      <li><a href="#approximating-relative-ranks">Approximating relative ranks</a></li>
      <li><a href="#mcmc-sampling-of-rankings">MCMC sampling of rankings</a></li>
      <li><a href="#runtimes-of-approximation">Runtimes of approximation</a></li>
      <li><a href="#session-info">Session info</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
